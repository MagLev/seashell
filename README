#
# SeaShell
#
# Capistrano deployment recipes for seaside platforms
#
# Author: Andreas Brodbeck, mindclue gmbh, www.mindclue.ch
# Licence: MIT (see LICENSE file)
#                                          


How to install
==============
!!! Important !!! Remove the line GEMS="9001 9002 9003" from the shell script file 'runSeasideGems' on your server.
(usually located at /opt/gemstone/product/seaside/bin/runSeasideGems)
The GEMS environment variable will be automatically controlled by SeaShell.

- Get SeaShell as source from http://github.com/dassi/seashell. (Easy to install ruby-gem is planned, once the code is stable)
- Put everything in a folder "deployment" (or similar) at your project folder on your development machine.
- Depends on ruby-gem "capistrano", version >=2.5.5. To install capistrano, run this on your shell: "sudo gem install capistrano"

How to configure
================
- In the folder /stages: Copy the file stage.rb.example to somestage.rb and change it to your needs. (Examples: production.rb, demo.rb, development.rb)
- Optional: Add a file on top level called tasks.rb, which will hold your project specific additional tasks. See examples/tasks.rb for hints.

How to use
==========
- Open a shell in the folder you have put SeaShell
- Run "cap -T" on the shell to get a list of tasks and their description
- Choose your stage and run a task, for example "cap production info:env". (In fact, for each of your stages there will be a task to switch to that stage. For example "production". You need to execute that stage-choosing task prior to any other task.)
     
Remarks
=======
- Make shure your server does NOT load your login profile, when connecting with a non-login shell (Some systems do, I heard! Ubuntu doesn't.).
  This potentialy could override some environment settings from the SeaShell capistrano recipes.
- Your applications are stored in /opt/gemstone/applications/<app_name>
- Don't be confused by the name "gem". It is also used by ruby, not only by gemstone.
- Remove the line GEMS="9001 9002 9003" from the file runSeasideGems on your server.
- Include the vhost configuration files in the lighttpd.conf with this line at the end of the file:
  include_shell "cat seaside_applications/*.conf"
- Tested with Gemstone 2.3.1, running on a 256MB slicehost with lighttpd as frontend web server.
- Not meant to work on, with, over, under, on top, left of, outside or near of Windows. Sorry. Hygiene.
          
Links
=====
- Read http://programminggems.wordpress.com/2008/09/05/setting-up-glass-on-slicehost/ for installation example of the Gemstone system on a slicehost server.
- Capistrano website: http://www.capify.org
- Seaside website: http://www.seaside.st
- Seaside for Gemstone website: http://seaside.gemstone.com
- My Blog: http://andreas.mindclue.ch/blog

